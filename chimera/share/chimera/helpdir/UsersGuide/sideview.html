<!--
--- UCSF Chimera Copyright ---
Copyright (c) 2000-2015 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  This notice must be embedded in or
attached to all copies, including partial copies, of the
software or any revisions or derivations thereof.
--- UCSF Chimera Copyright ---
-->

<html><head>
<title>The Viewing Tool</title>

</head><body>
<a name="viewingtool">
<h2>The Viewing Tool</h2></a>
<p>
The <b>Viewing Tool</b> has five tabbed sections, also listed separately
as Chimera <a href="framecontrib.html" target="_top">tools</a>:
<ul>
<li><a href="#camera"><b>Camera</b></a>
<li><a href="#effects"><b>Effects</b></a>
<li><a href="#rotation"><b>Rotation</b></a>
<li><a href="#sideview"><b>Side View</b></a>
<li><a href="#lighting"><b>Lighting</b></a>
</ul>
Clicking the tab for a section brings it to the front.
For the front section only,
<b>Reset</b> replaces the current settings with the original 
&ldquo;factory&rdquo; defaults,
<b>Restore</b> replaces the current settings with those previously saved in the
<a href="preferences.html#preffile"><b>preferences</b> file</a>,
and <b>Save</b> saves the current settings to the
<a href="preferences.html#preffile"><b>preferences</b> file</a>.
<b>Close</b> dismisses the <b>Viewing Tool</b>, and <b>Help</b> opens
this manual page in a browser window.
</p>

<h3><a name="camera">Camera</a>
<img src="camicon.png"></h3>
<p>
The <b>Camera</b> section of the <a href="#viewingtool"><b>Viewing Tool</b></a>
controls several aspects of the view, including stereo parameters.
There are <a href="extension.html">several ways to start</a>
<b>Camera</b>, a tool in the <b>Viewing Controls</b> category.
Default settings are indicated in <b>bold</b>.
See also: <a href="midas/stereo.html"><b>stereo</b></a>,
<a href="midas/set.html"><b>set</b></a>
<ul>
<li><b>camera mode</b> - refers to any of several stereo and mono 
viewing options (<a href="stereo.html#modedef">details...</a>):
  <ul>
  <li><b>mono</b> (default, not in stereo)
  <li>stereo left eye
  <li>stereo right eye
  <li>cross-eye stereo
  <li>wall-eye stereo
  <li>red-cyan stereo 
- overlapping left-eye and right-eye views in different colors,
to be viewed with &ldquo;glasses&rdquo; (often inexpensive cardboard/plastic)
with colored filters
  <li>green-magenta stereo 
- similar to red-cyan, but with different colors and trade-offs
  <li>sequential stereo
- rapid flickering between left-eye and right-eye views, to be viewed
with special synchronised glasses.  Sequential stereo is
<a href="stereo.html#sequential">not always available</a>.
  <li>reverse sequential stereo
- as above, but with the opposite convention for the two views
  <li>row stereo, right eye even
- row-interleaved with even rows used for the right-eye view
  <li>row stereo, right eye odd
- row-interleaved with odd rows used for the right-eye view
  <li>dome
- angular fisheye of the hemisphere in front of the camera,
with <a href="#fov">horizontal field of view</a> locked to 90&deg;
  <li>truncated dome
- same as the dome mode, except with the bottom of the hemisphere cut off
  <li>DTI side-by-side stereo
  </ul>
<li><a name="projection"><b>projection</b></a> 
(<b>perspective</b>/orthographic) 
- perspective makes farther-away objects smaller, and is
indicated in the <a href="#sideview"><b>Side View</b></a> by red lines
diverging from the eye position.  An orthographic
projection has no scaling-with-distance effect, and is indicated
in the <a href="#sideview"><b>Side View</b></a> by horizontal red lines.
<li><b>scale factor</b> (<b>1</b> when a structure is first opened) -
a factor reflecting the cumulative effects of scaling with 
the mouse, the <a href="#sideview"><b>Side View</b></a>, and/or the command
<a href="midas/scale.html"><b>scale</b></a>
<li><b>near plane</b> - Z-coordinate of the front 
<a href="clipping.html#global">global clipping plane</a>
<li><b>far plane</b> - Z-coordinate of the back
<a href="clipping.html#global">global clipping plane</a>
<li><a name="fov"><b>horizontal field of view</b></a>
(allowed range 1.0-179.0&deg;) 
- controls how much of the scene is visible within the graphics window;
a smaller value zooms in on a smaller portion of the scene.
The vertical field of view will change along with the horizontal field 
of view according to the aspect ratio of the graphics window.
<!--
field of view = 2 * atan(0.5*d/w)
where d = distance to screen and w = graphics window width.
degrees = radians(180/pi)
-->
<li><a name="stereoparm"><b>Stereo parameters</b></a>
  <ul>
  <li><b>units</b> (millimeters/centimeters/<b>inches</b>)
   - units for the following stereo parameters
  <li><b>eye separation</b> (default <b>2.0</b> inches)
  - effective distance between the left and right eyes
  <li><b>distance to screen</b> - effective distance from the viewer to the
  screen (or <a name="focal"><b><i>focal plane</i></b></a>, 
  even though items out of this plane do not appear &ldquo;out of focus&rdquo;).
  When viewed in stereo, items in front of the focal plane will 
  appear to project from the screen, and items behind the plane will
  appear to recede behind the screen.
  <li><b>screen width</b> - physical width of the entire screen (not just
  the graphics window).  The value is initially what is
  reported by the windowing system, but it can be edited.  
  Changing the value does not resize the graphics window.
  </ul>
<p>
The <b>eye separation</b> and <b>distance to screen</b> 
govern the parallax between the left- and right-eye views.
The <b>horizontal field of view</b>, <b>distance to screen</b>, and
<b>screen width</b> are interdependent. The <b><i>graphics window width</i></b>
is determined from the <b>screen width</b> and the known pixel dimensions 
of the screen and graphics window.  For a given graphics window width, the 
<b>horizontal field of view</b> and <b>distance to screen</b> are inversely 
related; changing one changes only the other, in the opposite direction.
Changing the <b>screen width</b> value or resizing the graphics window
(widthwise) changes only the <b>distance to screen</b>, in the same direction.
</p>
</ul>
The <b>horizontal field of view</b>, <b>eye separation</b>, and 
position of the focal plane relative to the items in view can be
changed interactively using the <a href="topview.html"><b>Top View</b></a>.
</p>

<h3><a name="effects">Effects</a>
<img src="efficon.png"></h3>
<p>
The <b>Effects</b> section of the
<a href="#viewingtool"><b>Viewing Tool</b></a>
controls visual effects such as depth cueing.
There are <a href="extension.html">several ways to start</a>
<b>Effects</b>, a tool in the <b>Viewing Controls</b> category.
Default settings are indicated in <b>bold</b>.
See also: <a href="midas/set.html"><b>set</b></a>,
<a href="midas/background.html"><b>background</b></a>,
<a href="midas/preset.html"><b>preset</b></a>
<ul>
<li><a name="dc"><b>depth cueing</b></a> (<b>on</b> by default)
refers to front-to-back shading with the 
<a href="#dccolor">depth-cueing color</a>.
The shading increases linearly from <b>start</b> to <b>end</b>.
  <ul>
  <li><b>start</b> (default <b>0.5</b>) - where depth-cueing starts,
  relative to the front (0.0) and back (1.0)
  <a href="clipping.html#global">global clipping planes</a>;
  values outside the 0-1 range are allowed
  <li><b>end</b> (default <b>1.0</b>) 
  - where depth-cueing attains full strength,
  relative to the front (0.0) and back (1.0)
  <a href="clipping.html#global">global clipping planes</a>;
  values outside the 0-1 range are allowed
  <li><a name="dccolor"><b>color</b></a>
  (a <a href="coloring.html#colorwell">color well</a>,
  <b>No Color</b> by default)
  - the color used for front-to-back shading (depth cueing).
  When set to No Color, the shading color will be the same as the 
  <a href="chimerawindow.html#bg_color">background color</a>.
  </ul>
<br>
<li><a name="silhouette"><b>silhouettes</b></a> (<b>off</b> by default)
- show outlines to emphasize borders and discontinuities.
This setting is global (applies to all models),
but when it is on, silhouettes can be toggled for individual models 
with the command <a href="midas/setattr.html"><b>setattr</b></a>,
the <a href="inspection.html"><b>Selection Inspector</b></a>,
or the <a href="moleculeattrib.html">molecule model attributes panel</a>.
  <ul>
  <li><b>color</b> (a <a href="coloring.html#colorwell">color well</a>, 
  default <b>No Color</b>, equivalent to black)
  <li><b>width</b> (default <b>2.0</b>) - linewidth
  </ul>
<br>
<li><a name="shadows"><b>shadows</b></a> (<b>off</b> by default)
- display interactive shadows
  <ul>
  <li><b>quality</b> - a tradeoff between the smoothness of shadow borders 
and computational demands; simply trying the settings is
recommended to determine which works best for a given system:
<table border cellspacing="0" cellpadding="2">
<tr>
<th>quality setting</th> <th>graphics card memory <br>usage (MBytes)</th> 
<th>2D texture size</th>
</tr><tr>
<td align="center">coarse</td>
<td align="center">4</td> <td align=center>1024</td>
</tr><tr>
<td align="center"><b>normal</b><br>(default)</td>
<td align="center">16</td> <td align="center">2048</td>
</tr><tr>
<td align="center">fine</td>
<td align="center">64</td> <td align="center">4096</td>
</tr><tr>
<td align="center">finer</td>
<td align="center">256</td> <td align="center">8192</td>
</tr>
</table>
  </ul>
<br>
<li style="list-style-type:none"><b>transparency</b>:
  <ul>
  <li><b>single-layer</b> (<b>on</b> by default)
  - render only the topmost layer of all transparent items.
  Showing only the topmost layer rather than all transparent layers simplifies 
  the display and is recommended for de-emphasizing transparent parts.
  <li><b>flat</b> (<b>off</b> by default)
  - make apparent transparency independent of the viewing angle.  
Otherwise, transparent triangles (forming objects as well as surfaces) will 
appear more opaque when viewed edged-on than when viewed face-on.
  </ul>
<br>
<li style="list-style-type:none"><b>graphics quality</b>:
  <ul>
  <li><a name="subqual"><b>subdivision</b></a> 
  (default <b>1.5</b>, maximum 20.0) 
- the stick, ball-and-stick, sphere, and ribbon
<a href="representation.html">representations</a>
consist of curved surfaces approximated by collections of planes; 
increasing the subdivision level increases the number of planes
and the apparent smoothness.  This setting also affects
curved geometric objects defined in <a href="bild.html">BILD format</a>,
but not <a href="representation.html#surfaces">molecular surfaces</a>.
Display <a href="menu.html#menupresets">presets</a> 
adjust the subdivision level to 1.5 (interactive) or 5.0 (publication).
  <li><b>multisample</b> (<b>off</b> by default)
- whether to use OpenGL multisampling, <i>i.e.</i>, 
multiple samples per pixel so that edges are antialiased.
If not well supported by the system, rendering with this option
can be very slow or reveal graphics driver bugs.
Multisampling can also be enabled with the 
startup option <a href="options.html#multisample"><b>--multisample</b></a>.
  </ul>
</ul>
</p>

<h3><a name="rotation">Rotation</a>
<img src="roticon.png"></h3>
<p>
The <b>Rotation</b> section of the <a href="#viewingtool">
<b>Viewing Tool</b></a> controls rotation behavior.
There are <a href="extension.html">several ways to start</a>
<b>Rotation</b>, a tool in the <b>Movement</b> category.
See also: <a href="midas/cofr.html"><b>cofr</b></a>,
<a href="midas/focus.html"><b>focus</b></a>,
<a href="midas/set.html#independent"><b>set independent</b></a>,
<a href="preferences.html#Mouse"><b>Mouse</b> preferences</a>,
<a href="menu.html#actpivot"><b>Set Pivot</b></a> and
<a href="menu.html#actfocus"><b>Focus</b></a> in the
<a href="menu.html#menuactions"><b>Actions</b> menu</a>
<ul>
  <li><b>center of rotation method</b>:
    <ul>
    <li><b>fixed</b> - at a fixed point relative to the model(s),
    see <a href="#rotcen"><b>rotation center</b></a>
    <li><b>center of models</b>
    - at the center of the bounding sphere of the displayed parts of 
    <a href="mouse.html#activedef">active</a> models
    <li><b>independent</b> - a separate center for each model
    rather than a single collective center
    <li><b>center of view</b> - continually adjusted 
    to the current center of view (in the middle of the window, 
    halfway between the front and back 
    <a href="clipping.html#global">global clipping planes</a>)
    <li><b>front center</b> (default) - when the view is zoomed out,
    behaves like <b>center of models</b>;
    when the view is zoomed in on parts of items,
    behaves like <b>center of view</b>, except the center of rotation
    depth (Z-coordinate) is set to that of the frontmost displayed 
    unclipped atom whose VDW sphere intercepts a line perpendicular to the 
    screen in the window center.  
    The center is not updated when only rotations are performed.
    </ul>
  <li><a name="rotcen"><b>rotation center</b></a> (X, Y, and Z coordinates
  in the laboratory frame of reference)
- editable only when the center of rotation method is <b>fixed</b>,
meaningless when models are set to rotate independently
</ul>
The center of rotation can be shown with &ldquo;+&rdquo; crosshairs
in the <a href="chimerawindow.html">graphics window</a>
with the command <a href="midas/set.html#showCofR"><b>set showCofR</b></a>.
</p>

<h3><a name="sideview">Side View</a><img src="svicon.png"></h3>

<table border cellspacing="0" cellpadding="0"
align="right" style="margin:8px 8px 8px 8px"> 
<tr><td><img src="side.png" alt="Side View"></td></tr>
</table>
<p>
The <b>Side View</b> section of the <a href="#viewingtool">
<b>Viewing Tool</b></a> provides a convenient and intuitive way to scale 
the view and to control <a href="clipping.html">clipping</a>.
There are <a href="extension.html">several ways to start</a>
the <b>Side View</b>, a tool in the <b>Viewing Controls</b> category.
<ul>
<li>The yellow square on the left represents the viewer's eye position. 
Dragging it horizontally with the left mouse button adjusts the 
<b>scale factor</b>.
This does <i>not</i> change the <a href="#stereoparm">stereo parameter</a>
<b>distance to screen</b>.
Double-clicking the eye position brings up a menu for changing the
<a href="stereo.html#modedef">camera mode</a>.
<br><br>
<li>The vertical yellow lines represent the front and back 
(<b><i>hither</i></b> and <b><i>yon</i></b>) 
<a href="clipping.html#global">global clipping planes</a>.
Each can be dragged with the left mouse button.
Dragging the hither plane with the middle or right mouse button 
moves both clipping planes in the same direction, while dragging
the yon plane with the middle or right mouse button
moves the clipping planes in opposite directions.
<br><br>
<li>The red lines emanating from the eye position show the field of vision.
The lines diverge when <a href="#projection">perspective</a> is used,
but are parallel in the <a href="#projection">orthographic</a> projection.
</ul>
Simultaneously holding down the Shift key reduces the speed
(mouse sensitivity) of dragging operations by a factor of 10.
</p><p>
The <b>Clip</b> checkbox indicates <a href="clipping.html#global">global 
clipping</a> status (on or off). <b>Surface capping...</b> brings up the
<a href="../ContributedSoftware/surfcapper/surfcapper.html"><b>Surface
Capping</b></a> dialog for controlling the appearance of planar
caps where surfaces are sliced away.
</p><p>
Clicking
<b>View All</b> turns off <a href="clipping.html#global">global clipping</a>
and adjusts the scale to include everything that is displayed.
Model rotations and translations are not adjusted.
</p><p>
The default <b>Side</b> is <b>right</b>: it shows the relationship
between the viewer and the Chimera scene from the viewer's right side.
Setting <b>View</b> to <b>top</b> switches to a 
<a href="topview.html">top view</a> in which
stereo parameters and perspective can be adjusted interactively.
</p>

<h3><a name="lighting">Lighting</a>
<img src="lighticon.png"></h3>
<p>
The <b>Lighting</b> section of the 
<a href="#viewingtool"><b>Viewing Tool</b></a>
allows lighting parameters to be changed and <a href="#lightsave">saved</a>.
There are <a href="extension.html">several ways to start</a>
<b>Lighting</b>, a tool in the <b>Viewing Controls</b> category.
See also: <a href="midas/lighting.html"><b>lighting</b></a>,
<a href="lighting.html">lighting details</a>
</p><p>
<b>Lighting</b> includes two parts:
<ul>
<li><a href="#intensity"><b>Intensity</b></a>
<li><a href="#shininess"><b>Shininess</b></a>
</ul>
The buttons along the bottom of the dialog
(<b>Reset</b>, <i>etc.</i> as described <a href="#viewingtool">above</a>) 
apply to both parts even though only one part is shown at a time.
</p><p>
<a name="lightsave">
Settings in <b>Lighting</b> (again, both parts)
collectively define a scheme or <b><i>style</i></b> that can be 
named, saved, and later retrieved from the pulldown list 
</a>
marked with a black triangle in the <b>Lighting Settings</b> area.
Choosing a style from the list automatically applies it.
When the name <b>Chimera default</b> is shown, it is only
possible to save to a different name, using <b>Save As...</b>.
When another name is shown, it is possible to
<ul>
<li><b>Save</b> the current settings to the name shown
<li>use <b>Save As...</b> to save the current settings 
with a new name
<li><b>Delete</b> the style whose name is shown
</ul>
Named lighting styles are saved in the Chimera
<a href="preferences.html#preffile"><b>preferences</b>
file</a>, and are only updated with any changes
when <b>Save</b>, <b>Save As...</b>, or <b>Delete</b> is used.
The settings in effect when a session is
<a href="sessions.html#savesess">saved</a> 
(whether or not the style has a name) are included in the 
<a href="sessions.html">session file</a>.
A lighting style can also be saved, applied, or deleted with the 
<a href="midas/lighting.html"><b>lighting</b></a> command.
</p>
<table border cellspacing="0" cellpadding="0"
align="right" style="margin:8px 8px 8px 8px"> 
<tr><td><img src="lightball.png"></td></tr>
</table>
<p>
The <a name="intensity"><b>Intensity</b></a> section includes:
<ul>
<li><a name="mode"><b>mode</b></a> - the number and type of lights
(<a href="lighting.html">details...</a>):
  <ul>
  <li><b>ambient</b> - ambient light only
  <li><b>single</b>
  - ambient light and one directional light 
  (the <b style="color:#669900">key</b> light)
  <li><b>two-point</b> (default)
  - ambient light and two directional lights: 
  <b style="color:#669900">key</b> and 
  <b style="color:#9600FF">fill</b>
  <li><b>three-point</b>
  - ambient light and three directional lights: 
  <b style="color:#669900">key</b>, 
  <b style="color:#9600FF">fill</b>, and <b style="color:#CC0000">back</b>
  </ul>
By default, only the key light gives specular highlights, and the other lights 
are treated as shadowless during <a href="raytracing.html">raytracing</a>.
</p><p>
The directional lights can be moved interactively by dragging the 
color-coded solid arrows on the sphere
(<b style="color:#669900">green</b>:<b>key</b>, 
<b style="color:#9600FF">purple</b>:<b>fill</b>, 
<b style="color:#CC0000">red</b>:<b>back</b>).
The back light is restricted to the rim of the sphere and is not included
in the <b>brightness</b>.
Outlines on the sphere in the two- and three-point modes
represent commonly used light positions.
<li><b>brightness</b> (default <b>1.16</b>) 
<!-- 
B = Kd + Fd + A, all along the line of sight.
As Kd and Fd directions are changed, their intensities are automatically
adjusted to keep their intensities along the line of sight the same. 
-->
- the total illumination along the line of sight, 
disregarding any specular contributions; slider values range 0.0-2.0
<li><b>contrast</b> (default <b>0.83</b>)
- darkness of shading; at a given <b>brightness</b> B, decreasing the 
<b>contrast</b> C increases the ambient light: A = B(1 &ndash; C). 
Contrast does not apply to the ambient-only mode.  Values range 0.0-1.0. 
<li><b>key-fill ratio</b> (default <b>1.25</b>)
<!--
R = (Kd + A)/(Fd + A)
-->
- the ratio of (directional key + ambient) to (directional fill + ambient),
disregarding any specular contributions; 
applies only to the two-point and three-point modes.
Values range from 1.0 to an upper bound that depends on the <b>contrast</b>. 
</ul>
</p>

<h3><a name="shininess">Shininess</a>
<img src="shininess.png"></h3>
<p>
The <b>Shininess</b> interface controls the specular
parameters of the viewed objects (rather than the light sources).
Although part of the <a href="#lighting"><b>Lighting</b> tool</a>,
<b>Shininess</b> is also <a href="extension.html">handled</a>
as a separate tool in the <b>Viewing Controls</b> category.
See also: <a href="midas/lighting.html"><b>lighting</b></a>,
<a href="lighting.html">lighting details</a>
</p>
<ul>
<li><b>sharpness</b> (default <b>30.0</b>, range 1.0-128.0)
- refers to the &ldquo;spread&rdquo; of highlights; 
lower values yield larger, more diffuse highlights, 
while higher values yield more pointlike highlights.  Technically,
<b>sharpness</b> is the OpenGL specular exponent.  The effective highlight
intensity varies as the cosine of the angle between the view direction
and the direction of the reflected light, raised to the power of this exponent.
<li><b>reflectivity</b> (default <b>1.0</b>, range 0.1-10.0)
- scale factor for the components of the specular <b>color</b> (below).
The resulting values may exceed 1.
<li><b>color</b>
(a <a href="coloring.html#colorwell">color well</a>, a light gray by default)
- <b><i>specular color</i></b>, that used for shiny highlights.
It is added to the color that would be shown in the absence of highlights.
If the color is already bright white, highlights will not be discernable;
if the color is nominally green and the specular color is red,
the highlights will appear to be yellow.
This explanation assumes that all light sources are white or gray; however,
lights have their own diffuse and specular colors,
which must be <a href="lighting.html#combination">combined</a> with
that of the material.
</ul>
<p>
The <b>Shininess</b> interface
adjusts the material properties of the Chimera default material.
Stick, ball-and-stick, sphere, and ribbon
<a href="representation.html">representations</a>
and <a href="representation.html#surfaces">molecular surfaces</a>
use the default material.  It is not possible to independently
control the shininess of different models that use the default material.
Except for surfaces generated by
<a href="../ContributedSoftware/volumeviewer/framevolumeviewer.html"
target="_top"><b>Volume Viewer</b></a> and
<a href="../ContributedSoftware/multiscale/framemulti.html" target="_top">
<b>Multiscale Models</b></a> (for which special code was written),
the properties of models that do not use the default material 
(VRML models, for example) are not adjusted.
</p>
<hr>
<address>UCSF Computer Graphics Laboratory / June 2015</address>
</body></html>
