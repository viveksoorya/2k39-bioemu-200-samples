<!--
--- UCSF Chimera Copyright ---
Copyright (c) 2005-2016 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  This notice must be embedded in or
attached to all copies, including partial copies, of the
software or any revisions or derivations thereof.
--- UCSF Chimera Copyright ---
-->

<html>
<head>
<TITLE>Exporting a Scene</TITLE>
</head>
<body>
<h2>Exporting a Scene</h2>
<p>
<b>File... Export Scene</b> allows a description of the Chimera scene 
to be saved in the following formats:
<ul>
<li>ChimeraX [.py] 
- Python file for regenerating the scene in
<a href="https://www.rbvi.ucsf.edu/chimerax/" target="_blank">ChimeraX</a>;
includes atomic models, molecular surfaces, volume models 
(surface, mesh, image, plane/orthoplane, and box renderings),
per-model clipping, sequences and sequence alignments, 
2D labels and arrows, and color key. Not supported:
per-vertex colorings of surfaces (<i>e.g.</i>, by value, distance, or zone),
nucleotide representations, worms, other types of surface models, <i>etc.</i>
<li>COLLADA [.dae] 
- <a href="https://www.khronos.org/collada/"
target="_blank">COLLADA</a> XML-based format;
can be viewed with Mac Preview and incorporated into iBooks
<li>OBJ [.obj] 
- <a href="https://www.fileformat.info/format/wavefrontobj/egff.htm"
target="_blank">Wavefront OBJ</a> (surfaces only);
colors are written to a separate material definition file [.mtl]
<li>POV-Ray [.pov] - input for the <a href="https://www.povray.org" 
target="_blank">Persistence of Vision Raytracer</a>
<br>(alternatively, POV-Ray images can be 
produced <a href="raytracing.html">directly</a>)
<li>RenderMan [.rib] - <a href="https://renderman.pixar.com/view/rispec/"
target="_blank">RenderMan<sup>&reg;</sup> Interface Bytestream</a>
<li>STL [.stl] - triangle-based format 
(<a href="https://en.wikipedia.org/wiki/STL_%28file_format%29#Binary_STL"
target="_blank">binary</a>) native to stereolithography CAD software (see the
<a href="https://www.rbvi.ucsf.edu/Outreach/technotes/ModelGallery/index.html"
target="_blank">Chimera 3D Model Gallery</a>)
<li>VRML [.wrl, .vrml] - 
<a href="https://www.web3d.org/x3d-vrml-most-widely-used-3d-formats"
target="_blank">Virtual Reality Markup Language</a>
<li>VTK [.vtk] - format used by
<a href="https://vtk.org/" target="_blank">Visualization Toolkit</a>
<li>WebGL [.html] - HTML5 format with embedded 
<a href="https://www.khronos.org/webgl/" target="_blank">WebGL</a>, 
to show a manipulable rendering of the scene in a web page 
(experimental feature)
<li><a href="https://www.web3d.org/x3d/" target="_blank">X3D</a> [.x3d]
</ul>
POV-Ray, RenderMan, STL, and VRML files are generated by postprocessing
an initial X3D file.  The conversion programs
<b><i>x3d2pov</i></b>, <b><i>x3d2RM</i></b>, <b><i>x3d2stl</i></b>,
and <b><i>x3d2vrml</i></b> are included with Chimera (in the bin
directory) but can be used separately.
</p><p>
Only what is displayed will be exported.  Note that something can be
displayed yet invisible due to <a href="clipping.html">clipping</a> or
<a href="../ContributedSoftware/surfzone/surfzone.html">zoning</a>,
or because it simply falls outside the current view.
</p><p>
See also: 
<a href="savemodel.html">saving data</a>,
<b><A href="midas/export.html">export</A></b>,
<a href="midas/struts.html"><b>struts</b></a>,
<a href="midas/save.html"><b>save</b></a>,
<a href="midas/write.html"><b>write</b></a>,
<a href="midas/copy.html"><b>copy</b></a>,
<a href="dms.html#writedms"><b>Write DMS</b></a>,
<a href="../ContributedSoftware/animation/animation.html#storyboard"><b>Animation</b> storyboard</a>,
<a href="raytracing.html">raytracing with POV-Ray</a>,
<a href="print.html#tips">tips on preparing images</a>
</p>

<a name="limitations">
<h3>Limitations</h3></a>
<p>
The <b>COLLADA</b> export does not support text,
<a href="sideview.html#effects">silhouettes</a>,
<a href="sideview.html#sideview">global clipping</a>, or
<a href="clipping.html#per-model">per-model clipping</a>.
It has been tested mainly on Macs, with proper rendering observed in
Preview (Mac 10.8) and iBooks on iPad.
Other applications (<i>e.g.</i> SketchUp and MeshLab tested on Windows)
correctly handle the geometry but not the triangle vertex colors. 
</p><p>
Exports to <b>OBJ</b> format only include displayed
<a href="surfattrib.html#surfmodels">surface models</a>.
The entire surfaces (even if only partially displayed)
are exported in their <i>untransformed</i> positions.
Only a single color is exported per
<a href="surfattrib.html#surfpiecedef">surface piece</a>.
</p><p>
A raytraced image from <b>POV-Ray</b> may differ from
the view in Chimera in <a href="raytracing.html#limitations">several ways</a>.
</p>
The <b>VRML</b> and <b>X3D</b> outputs do not support:
<ul>
<li> <a href="sideview.html#effects">depth cueing</a>
<li> <a href="sideview.html#sideview">global clipping</a>
(<b>X3D</b> supports
<a href="../ContributedSoftware/per-model/per-model.html">per-model
clipping</a>, <b>VRML</b> does not)
<li> <a href="stereo.html">stereo</a>
<li> <a href="../ContributedSoftware/volumeviewer/framevolumeviewer.html" 
target="_top"><b>Volume Viewer</b></a> transparent solid displays
<li> normals on dot and mesh surfaces
</ul>
<b>RenderMan</b> supports depth cueing and clipping planes; otherwise, 
limitations are as listed above for <b>VRML</b> and <b>X3D</b>.
</p><p>
<b>STL</b> does not include color, dots, lines, or text, in addition 
to sharing the limitations listed above for <b>VRML</b> and <b>X3D</b>.
</p><p>
<b>VRML</b> does not support variations in transparency within a 
single surface model; different surface models can have different 
transparencies, but for a given surface model, the transparency of its 
least transparent point will be used.
</p><p>
<b>VTK</b> export includes only molecule models, 
<a href="representation.html#surfaces">molecular surfaces</a>, 
and <a href="../ContributedSoftware/multiscale/framemulti.html"
target="_top">multiscale</a> surfaces with associated atoms.  
The molecule export includes all atoms and bonds, even if not displayed,
and uses dots to represent atoms and wires to represent bonds regardless
of their <a href="representation.html">display styles</a> in Chimera.
The atoms have VTK attributes including model number, atom index,
residue type, residue index, atom name, bfactor and occupancy.
Each surface vertex also has this same set of attributes for the nearest atom. 
The atom index and residue index are simply the positions in the lists of
atoms and residues, respectively, not the atom serial number or residue number
in Chimera.
</p><p>
<b>WebGL</b> export is an experimental feature.
</p><p>
<b>X3D</b> <a href="https://www.web3d.org/x3d/content/examples/X3dResources.html"
target="_blank">viewers and plugins</a> are available for some platforms,
but this format is relatively new and continues to evolve.
Annotations for clipping planes and depth cueing can be included in
the file even though these features are not displayed.
</p>
<hr>
<address>UCSF Computer Graphics Laboratory / March 2023</address>
</body></html>
