<!--
--- UCSF Chimera Copyright ---
Copyright (c) 2004-2012 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  This notice must be embedded in or
attached to all copies, including partial copies, of the
software or any revisions or derivations thereof.
--- UCSF Chimera Copyright ---
-->

<html><head>
<title>Lighting Details</title>
</head><body>
<h2>Lighting Details</h2>
<p>
Classic three-point lighting uses
<b><i>key</i></b>, <b><i>fill</i></b>, and <b><i>back</i></b> lights.
Generally, the key light is the dominant source, 
the fill light serves as a secondary source to improve 
the visibility of regions that would otherwise be dark, 
and the back light illuminates edges.
Each of these lights is directional.
There can also be <b><i>ambient</i></b> light, which is nondirectional.
A directional light can include diffuse and specular contributions:
<b><i>diffuse</i></b> light is scattered from a surface equally 
in all directions, whereas <b><i>specular</i></b> light is reflected 
in a preferred direction.  
</p><p>
In Chimera, several <a href="sideview.html#mode">lighting modes</a> 
are available:
<ul>
<li><b>ambient</b> - ambient only
<li><b>single</b> -  key + ambient
<li><b>two-point</b> - key + fill + ambient
<li><b>three-point</b> - key + fill + back + ambient
</ul>
By default, only the key light gives specular highlights.
The other lights have zero specular contributions and are treated 
as shadowless during <a href="raytracing.html">raytracing</a>.
The lighting mode, light directions, 
and overall brightness and contrast can be controlled 
with the <a href="sideview.html#lighting"><b>Lighting</b> tool</a>,
the specular parameters of objects can be controlled in the
<a href="sideview.html#shininess"><b>Shininess</b></a> section,
and all of these as well as the colors and specular contributions 
of the lights can be adjusted with the 
<a href="midas/lighting.html"><b>lighting</b></a> command.
</p><p>
Due to the many interacting parameters, the overall effect of
changing some aspect of lighting can be unexpected.
If adjusted at all, lighting should be the last thing
adjusted before images are saved.  See also:
<a href="print.html#tips">tips on preparing images</a>
</p>

<a name="combination">
<h3>Combination Rules</h3>
</a><p>
&ldquo;Object&rdquo; will be used to refer to any item in the view.
The illumination at a point on an object's surface 
due to a particular light source depends on several things:
<ul>
<li>the inherent color and intensity of the light
<li>the direction of the light
<li>the surface normal
<li>for specular light only, the position of the viewer
</ul>
The lights in Chimera do not attenuate with distance.
</p><p>
The specular and diffuse portions of each light
can be treated as separate contributions.
The color shown for a point on an object's surface is generated by
the following process:
<ol>
<li>The object's color component values (RGB, meaning red, green, blue)
are <b>multiplied</b> by the scaled <b>diffuse</b> 
color component values of each light.
<br><br>
<li>Similarly, the object's
<a href="sideview.html#shininess">specular color</a> component values
(spatially modulated by its specular
<a href="sideview.html#shininess">sharpness</a>
and scaled by its specular 
<a href="sideview.html#shininess">reflectivity</a>)
are <b>multiplied</b> by the scaled <b>specular</b>
color component values of each light.
<br><br>
<li>The resulting sets of RGB values are <b>added</b> to
generate the color shown for the point.
</ol>
Multiplying color component values has the effect of intersection.
For example, multiplying red (RGB values 1,0,0), and blue (0,0,1) gives black:
<blockquote><pre>
net red component = (1)(0) = 0
net green component = (0)(0) = 0
net blue component = (0)(1) = 0
(0,0,0) = black
</pre></blockquote>
Adding red and blue gives magenta:
<blockquote><pre>
net red component =  1 + 0  = 1
net green component =  0 + 0  = 0
net blue component =  0 + 1  = 1
(1,0,1) = magenta
</pre></blockquote>
</p>
<hr>
<address>UCSF Computer Graphics Laboratory / June 2012</address>
</body></html>
