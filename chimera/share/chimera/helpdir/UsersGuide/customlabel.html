<!--
--- UCSF Chimera Copyright ---
Copyright (c) 2004-2012 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  This notice must be embedded in or
attached to all copies, including partial copies, of the
software or any revisions or derivations thereof.
--- UCSF Chimera Copyright ---
-->

<html><head>
<title>Custom Residue Labeling</title>
</head><body>

<h2>Custom Residue Labeling</h2>
<p>
Custom residue labels can be generated using
<b>Actions... Label... residue... custom</b>
in the <a href="menu.html#menuactions">Chimera menu</a>.
Alternatively, custom labels for both atoms and residues can be defined 
with the command <a href="midas/labelopt.html"><b>labelopt</b></a>.
See also:
<a href="../ContributedSoftware/2dlabels/2dlabels.html"><b>2D Labels</b></a>,
<a href="../ContributedSoftware/defineattrib/defineattrib.html#attribdef">attributes</a>
</p><p>
In the custom labeling dialog, <b>Residue label</b> contents can be
described with arbitrary text and/or 
<a name="labelcode">substitution codes</a> 
of the form <b>%(<i>descriptor</i>)<i>format</i></b>.
A literal percent symbol <b>%</b> can be specified with <b>%%</b>.
</p><p>
The <b><i>descriptor</i></b> can be any of the following:
<ul>
<li><b>name</b> - residue name
<li><b>1-letter code</b> - one-letter residue code for standard amino
acids, residue name for other residues
<li><b>specifier</b> - residue number, insertion code, and chain ID
<li><b>number</b> - residue number
<li><b>insertion code</b> - residue insertion code
<li><b>chain</b> - chain ID
</ul>
or the name of any
<a href="midas/atom_spec.html#resprops">residue attribute</a>.
</p><p>
The <b><i>format</i></b> can be several things, 
described as components #3-7 of a conversion specifier in the
<a href="https://docs.python.org/2/library/stdtypes.html#string-formatting-operations"
target="_blank">Python documentation</a>, but useful possibilities include:
<ul>
<li><b>s</b> - string
<li><b>.<i>N</i>f</b> - floating-point number with <i>N</i> digits
after the decimal point, for example <b>.2f</b> to give numbers like 122.57
and &ndash;1.66
<li><b>+.<i>N</i>f</b> - as above but always signed, for example <b>+.2f</b>
to give numbers like +122.57 and &ndash;1.66
</ul>
Clicking the button for a descriptor inserts its substitution 
code at the current cursor position in the <b>Residue label</b> field.
Arbitrary text, including spaces, can be entered before, after, and between
substitution codes, and substitution codes can be entered manually.
For example, the following would label lysine, residue 8 in chain C
as &ldquo;wt&nbsp;K8&rdquo;:
<blockquote>
<b>wt %(1-letter code)s%(number)s</b>
</blockquote>
<p>
If the custom label definition includes a descriptor that is not
applicable to a particular residue (not all residues have an insertion 
code or chain ID, for example), nothing will be inserted in that 
part of the label for that residue.
</p><p>
<b>OK</b> performs the labeling and dismisses the dialog,
whereas <b>Apply</b> performs the labeling without dismissing the dialog.
<b>Close</b> simply dismisses the dialog. <b>Help</b> opens
this manual page in a browser window.
</p>
<hr>
<address>UCSF Computer Graphics Laboratory / June 2012</address>
</body></html>
