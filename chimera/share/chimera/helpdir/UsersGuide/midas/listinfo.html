<!--
--- UCSF Chimera Copyright ---
Copyright (c) 2013 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  This notice must be embedded in or
attached to all copies, including partial copies, of the
software or any revisions or derivations thereof.
--- UCSF Chimera Copyright ---
-->

<html><head>
<title>listen, other list commands</title>
<style type="text/css">
A.nounder:link {text-decoration: none}
A.nounder:visited {text-decoration: none}
A.nounder:hover {text-decoration: underline; color: red;}
</style>
</head><body>
<font size="-1">
<a href="../framecommand.html" target="_top">Chimera Commands Index</a>
</font>
<a name="top"></a>

<p>
The following commands are intended for supplying state information
to a program that is controlling Chimera remotely via tools such as
<a href="../../ContributedSoftware/readstdin/readstdin.html"><b>ReadStdin</b></a>
and
<a href="../../ContributedSoftware/restserver/restserver.html"><b>RESTServer</b></a>. 
<ul>
<li><a href="#listen"><b>listen</b></a>
<li><a href="#listmodels"><b>listmodels</b></a>
<li><a href="#listchains"><b>listchains</b></a>
<li><a href="#listphysicalchains"><b>listphysicalchains</b></a>
<li><a href="#listresidues"><b>listresidues</b></a>
<li><a href="#listatoms"><b>listatoms</b></a>
<li><a href="#listselection"><b>listselection</b></a>
<li><a href="#sequence"><b>sequence</b></a>
</ul>
</p>

<a href="#top" class="nounder">&bull;</a>
<a name="listen"><b>listen</b></a>
&nbsp;<i>mode</i> &nbsp;<i>what</i>
[&nbsp;<b>prefix</b>&nbsp;<i>prefix</i>&nbsp;]
[&nbsp;<b>rest</b>&nbsp;<i>URL</i>&nbsp;]
<blockquote>
The <b>listen</b> command tells Chimera to start or stop 
generating notifications when certain events take place;
the <i>mode</i> may be either <b>start</b> or <b>stop</b>,
and <i>what</i> may be <b>models</b> or <b>selection</b>.
<p>
If <i>what</i> is <b>models</b>, then the events of interest
are the addition or removal of a model.
If <i>mode</i> is <b>stop</b>, then model addition and removal
notification messages will no longer be generated.
If <i>mode</i> is <b>start</b>,
then notification messages will be generated.  Each
notification message is prefixed
with <i>prefix</i> (default <b>ModelChanged</b>).  Typical messages are:
<pre>
ModelChanged: add model #0
ModelChanged: remove model #0
</pre>
</p><p>
If <i>what</i> is <b>selection</b>, then the event of interest
is a change in selected items.
If <i>mode</i> is <b>stop</b>, then selection
notification messages will no longer be generated.
If <i>mode</i> is <b>start</b>,
then notification messages will be generated.  Each message is prefixed
with <i>prefix</i> (default <b>SelectionChanged</b>).  A typical message is:
<pre>
SelectionChanged: selection changed
</pre>
</p><p>
Normally, notification messages are sent to <i>stdout</i>.
If <i>URL</i> is specified, then the messages are sent to
the given URL with the message encoded as parameter
<b>chimeraNotification</b>.
</p>
</blockquote>

<a href="#top" class="nounder">&bull;</a>
<a name="listmodels"><b>listmodels</b></a>
[&nbsp;<b>models</b>&nbsp;<i>model_specifier</i>&nbsp;]
[&nbsp;<b>type</b>&nbsp;<i>model_type</i>&nbsp;]
[&nbsp;<b>attribute</b>&nbsp;<i>attribute_name</i>&nbsp;]
<blockquote>
The <b>listmodels</b> command lists models and
can report the values of a specified model attribute.
Information is sent to the <a href="../reply.html"><b>Reply Log</b></a>.
By default, all models are reported.  If <b>models</b> is given, 
only models in the <i>model_specifier</i> are reported.
If <b>type</b> is given, only models with the matching type are
reported.  Common types include <b>molecule</b>, <b>msmsmodel</b>
<b>surfacemodel</b> and <b>vrmlmodel</b>.
If <b>attribute</b> is given, the value for <i>attribute_name</i> is
reported instead of the model name.
</blockquote>

<a href="#top" class="nounder">&bull;</a>
<a name="listchains"><b>listchains</b></a>
[&nbsp;<b>models</b>&nbsp;<i>model_specifier</i>&nbsp;]
[&nbsp;<b>attribute</b>&nbsp;<i>attribute_name</i>&nbsp;]
<blockquote>
The <b>listchains</b> command lists chains and
can report the values of a specified chain attribute.
Information is sent to the <a href="../reply.html"><b>Reply Log</b></a>.
By default, the <b>chain</b> attribute is reported for all chains in all
molecules.  If <b>models</b> is given, only chains in molecules that
match the <i>model_specifier</i> are reported.
If <b>attribute</b> is given, the value for <i>attribute_name</i> is
reported instead of <b>chain</b>.
</blockquote>

<a href="#top" class="nounder">&bull;</a>
<a name="listphysicalchains"><b>listphysicalchains</b></a>
[&nbsp;<b>models</b>&nbsp;<i>model_specifier</i>&nbsp;]
<blockquote>
The <b>listphysicalchains</b> command reports the starting and ending sequence
numbers for physically connected chains (no missing residues).
Information is sent to the <a href="../reply.html"><b>Reply Log</b></a>.
By default, all chains in all models are reported.
If <b>models</b> is given, only chains in molecules that
match the <i>model_specifier</i> are reported.
</blockquote>

<a href="#top" class="nounder">&bull;</a>
<a name="listresidues"><b>listresidues</b></a>
[&nbsp;<b>residues</b>&nbsp;<i>residue_specifier</i>&nbsp;]
[&nbsp;<b>attribute</b>&nbsp;<i>attribute_name</i>&nbsp;]
<blockquote>
The <b>listresidues</b> command lists residues and
can report the values of a specified residue attribute.
Information is sent to the <a href="../reply.html"><b>Reply Log</b></a>.
By default, the <b>type</b> attribute for all residues in all
molecules are reported.
If <b>models</b> is given, only residues in molecules that
match the <i>model_specifier</i> are reported.
If <b>attribute</b> is given, the value for <i>attribute_name</i> is
reported instead of <b>type</b>.
</blockquote>

<a name="listatoms"/>
<h3><a href="usageconventions.html">Usage</a>:
<p>
<b>listatoms</b>
[ <b>atoms</b> <i>atom_specifier</i> ]
[ <b>attribute</b> <i>attribute_name</i> ]
</h3>
<p>
The <b>listatoms</b> command reports the value of an attribute of atoms.
Information is sent to the <a href="../reply.html"><b>Reply Log</b></a>.
By default, the <b>idatmType</b> attribute for all atoms in all
molecules are reported.
If <b>models</b> is given, only atoms in molecules that
match the <i>model_specifier</i> are reported.
If <b>attribute</b> is given, value for <i>attribute_name</i> is
reported instead of <b>idatmType</b>.
</p>

<a name="listselection"/>
<h3><a href="usageconventions.html">Usage</a>:
<p>
<b>listselection</b>
[ <b>level</b> <i>granularity</i> ]
[ <b>mode</b> <i>mode</i> ]
[ <b>attribute</b> <i>attribute_name</i> ]
</h3>
<p>
<b>listselection</b> reports the value of an attribute for
items that are currently selected.
<i>granularity</i> determines which items are reported.  Supported
values are <b>atom</b> (default), <b>residue</b>, <b>chain</b>
and <b>molecule</b>.
<i>mode</i> may be either <b>any</b> (default) or <b>all</b>.
if it is <b>any</b>, items with any selected subitems are reported;
if it is <b>all</b>, only items whose subitems are all selected
are reported.  For example, with <b>any</b> a residues of five atoms
will be reported if any of the five atoms are selected; with <b>all</b>,
all five atoms must be selected for the residue to be reported.
If <b>attribute</b> is given, value for <i>attribute_name</i> is
reported instead of the default, which is <b>idatmType</b> for atoms,
<b>type</b> for residues, <b>chain</b> for chains, and <b>name</b>
for molecules.
</p>

<a name="sequence"/>
<h3><a href="usageconventions.html">Usage</a>:
<p>
<b>sequence</b>
<i>atom_specifier</i>
</h3>
<p>
<b>sequence</b> displays the sequence dialog for all
chains containing the specified atoms.
</p>

</body></html>
