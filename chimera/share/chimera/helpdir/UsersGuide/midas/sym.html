<!--
--- UCSF Chimera Copyright ---
Copyright (c) 2007-2014 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  This notice must be embedded in or
attached to all copies, including partial copies, of the
software or any revisions or derivations thereof.
--- UCSF Chimera Copyright ---
-->

<html><head>
<title>sym</title>
</head><body>
<font size="-1">
<a href="../framecommand.html" target="_top">Chimera Commands Index</a>
</font>

<a name="top"></a>
<h3>Usage: <BR><b>sym</b> [ <i>molmodel</i> ]
<a href="#options"><i>options</i></a></h3>

<h3>Usage: <BR><b>~sym</b> [ <i>molmodel</i> ]</h3>
<p>
<table align="right">
<tr><td><a name="image"><img src="myosin-symmetry.png"></a></td></tr>
<tr><td>
(see <a href="https://www.cgl.ucsf.edu/chimera/animations/movies/myosin.mov"
target="_blank">Quicktime movie</a>)
</td></tr>
</table>
The <b>sym</b> command generates symmetry-related copies of a molecule model.
The command <b>~sym</b> removes the copies.
See also:
<A href="crystalcontacts.html"><b>crystalcontacts</b></a>,
<A href="matrixcopy.html"><b>matrixcopy</b></a>,
<A href="measure.html#symmetry"><b>measure symmetry</b></a>,
<a href="fitmap.html"><b>fitmap</b></a>,
<a href="../../ContributedSoftware/unitcell/unitcell.html"><b>Unit Cell</b></a>,
<a href="../../ContributedSoftware/multiscale/framemulti.html"
target="_top"><b>Multiscale Models</b></a>,
<a href="../../ContributedSoftware/cagebuilder/cagebuilder.html"><b>Cage
Builder</b></a>,
the <a href="../modelpanel.html#biounit"><b>biological 
unit</b></a> function in the 
<a href="../modelpanel.html"><b>Model Panel</b></a>,
<a href="../fetch.html">fetching</a> PQS files
</p><p>
The molecule model to copy (<i>molmodel</i>) is specified by model number,
optionally preceded by <b>#</b>.  This specification can be omitted
from the <b>sym</b> command when there is only one molecule model.
If <b>sym</b>-created copies of <i>molmodel</i> already exist, 
they will be replaced. 
The <b>~sym</b> command without arguments closes all <b>sym</b>-created copies.
</p><p>
One application of <b>sym</b> is
to facilitate symmetrical placement of copies of a structure (molecule model)
within related <a href="../filetypes.html#volume">volume data</a>,
usually a density map.  In that case, the volume model should be specified
as the <a href="#coordinateSystem">reference coordinate system</a>.
After the structure has been placed approximately as desired in the density, 
<b>sym</b> can be used with <a href="#update"><b>update true</b></a>
to create copies that update automatically when the original model is moved.  
For example, see a
<a href="https://www.cgl.ucsf.edu/chimera/animations/movies/myosin.mov"
target="_blank">Quicktime movie</a> of myosin copies moving symmetrically.
</p><p>
For memory and display efficiency, the copies can be generated as 
<a href="../../ContributedSoftware/multiscale/multiscale.html#lowres">low-resolution surfaces</a>
(from <a href="../../ContributedSoftware/multiscale/framemulti.html"
target="_top"><b>Multiscale Models</b></a>)
instead of atomic coordinates by specifying
<a href="#surfaces"><b>surfaces true</b></a>.  
This may be helpful for large multimers.
See also:
<A href="play.html"><b>play</b></a>,
<A href="msc.html"><b>msc</b></a>
</p>

<a name="options">
<h4>Options</h4>
</a>
Option keywords (but not their arguments) 
can be truncated to unique strings, and their case does not matter.
Synonyms for true: True, 1.  Synonyms for false: False, 0.
A vertical bar &ldquo;|&rdquo; designates mutually exclusive options, and
default settings are indicated with <b>bold</b>.
<blockquote>
  <a name="group"><b>group</b> <i>symmetry</i></a>
  <br>
  Specifications of <i>symmetry</i> are case-independent, and
  most types have additional sub-options or parameters:
  <ul>
  <li><b>biomt</b> (default) 
  - use <a href="#biomt">biological unit information</a>, if any, in the 
  <i>molmodel</i> input file

  <li>symmetry of model <b>#<i>N</i></b> 
  - use <a href="#biomt">biomt information</a> from another molecule model or
  the <a href="volume.html#symmetry">symmetry assignment</a> of a volume model
    <ul type="none">
    <li>Example: <b>#4</b>
    </ul>

  <li><a href="../../ContributedSoftware/cagebuilder/cagebuilder.html">cage 
  model</a> polygon symmetry
  <b>#<i>N</i>,p<i>M</i></b> or <b>#<i>N</i>,pn<i>M</i></b> 
  - place copies at equivalent positions relative to each M-sided polygon 
  in the <a href="../../ContributedSoftware/cagebuilder/cagebuilder.html">cage 
  model</a> with ID number <b>N</b>.  The <b>p<i>M</i></b> form places 
  one copy per M-sided polygon, whereas <b>pn<i>M</i></b> places M copies per
  M-sided polygon using C<font size=-1><i>M</i></font> symmetry about the center
  of the M-sided polygon nearest the original copy.
    <ul type="none">
    <li>Examples: <b>#2,p6</b> or <b>#2,pn5</b>
(<a href="../../ContributedSoftware/cagebuilder/cagebuilder.html#placing">more...</a>)
    </ul>

  <li>cyclic symmetry <b>C<i>n</i></b>
   around <a href="#axis">axis</a> and <a href="#center">center</a>
    <ul type="none">
    <li>Example: <b>C3</b>
    </ul>

  <li>dihedral symmetry <b>D<i>n</i></b>
   around <a href="#axis">axis</a> and <a href="#center">center</a>
    <ul type="none">
    <li>Example: <b>d7</b>
    </ul>

  <li>tetrahedral symmetry <b>T[,<i>orientation</i>]</b>
   around <a href="#center">center</a>
    <ul type="none">
    <li>Example: <b>t,z3</b>
    </ul>
   where <i>orientation</i> can be:
   <ul>
   <li><b>222</b> (default)
   - with two-fold symmetry axes along the X, Y, and Z axes, a three-fold 
    along axis (1,1,1)
   <li><b>z3</b> - a three-fold symmetry axis along Z, another three-fold 
   axis in the YZ plane such that rotation about the X axis by ~110&deg; is a
   symmetry operation (EMAN convention) 
   </ul>

  <li>octahedral symmetry <b>O</b> around <a href="#center">center</a> 

  <li>icosahedral symmetry <b>I[,<i>orientation</i>]</b> 
   around <a href="#center">center</a>
    <ul type="none">
    <li>Example: <b>i,n25</b>
    </ul>
   where <i>orientation</i> can be:
    <ul>
    <li><b>222</b> (default)
    - with two-fold symmetry axes along the X, Y, and Z axes
    <li><b>2n5</b> - with two-fold symmetry along X and 5-fold along Z
    <li><b>n25</b> - with two-fold symmetry along Y and 5-fold along Z
    <li><b>2n3</b> - with two-fold symmetry along X and 3-fold along Z
    <li><b>222r</b> - same as 222 except rotated 90&deg; about Z
    <li><b>2n5r</b> - same as 2n5 except rotated 180&deg; about Y
    <li><b>n25r</b> - same as n25 except rotated 180&deg; about X
    <li><b>2n3r</b> - same as 2n3 except rotated 180&deg; about Y
    </ul>

  <li>helical symmetry 
  <b>H,<i>rise,angle,n</i>[,<i>offset</i>]</b>
  around <a href="#axis">axis</a> and <a href="#center">center</a>
    <ul type="none">
    <li>Example: <b>h,43.5,21,6,-2</b>
    </ul>
  where <i>rise</i> is the translation along the <a href="#axis">axis</a> per
  subunit, <i>angle</i> is the rotation in degrees per subunit, 
  and <i>n</i> is how many copies total (including the original)
  the resulting segment of infinite helix should contain 
  prior to any filtering by
  <a href="#contact">contact</a> or <a href="#range">range</a>.
  The integer <i>offset</i> (default <b>0</b>) allows extending the helix in
  both directions.  The example above would give <i>n</i> = 6 copies total,
  with two copies in the negative axis direction, 
  one at the identity position, and three in the positive axis direction.

  <li>translational symmetry 
  <b>shift,<i>n,distance</i></b> along <a href="#axis">axis</a>
  &ndash; or &ndash; <b>shift,<i>n,x,y,z</i></b> 
    <ul type="none">
    <li>Example: <b>shift,3,26.7</b>
    </ul>
  where <i>n</i> is how many copies total (including the original)
  the result should contain prior to any filtering by
  <a href="#contact">contact</a> or <a href="#range">range</a>.
  The translation can be expressed as a
  <i>distance</i> along the <a href="#axis">axis</a>
  or as a vector <i>x,y,z</i> in the
  <a href="#coordinateSystem">reference coordinate system</a>.
<!-- 
"t" indicates tetrahedral symmetry, but for for backwards compatibility with
Chimera 1.5.3, will do shift instead if more than one argument follows "t"
-->

  <li>the product of symmetry groups, each specified as described above
  and separated by <b>*</b> to indicate multiplying each symmetry matrix of one
  group with each symmetry matrix of another; can be generalized to 
  multiple symmetry groups (not just two)
    <ul type="none">
    <li>Example: <b>c2*h,42,21,9,-4</b>
    </ul>
  </ul>
</blockquote>
<blockquote>
  <a name="axis"><b>axis</b> <i>axis</i></a>
  <br>
  Specify axis of symmetry (default <b>z</b>), where <i>axis</i> can be:
   <ul>
   <li><b>x</b> - X-axis
   <li><b>y</b> - Y-axis 
   <li><b>z</b> - Z-axis
   <li><i>x,y,z</i>
   (three values separated by commas only) - an arbitrary vector
   in the <a href="#coordinateSystem">reference coordinate system</a>
   <li>an <a href="frameatom_spec.html" target="_top"><i>atom-spec</i></a> of
   exactly two atoms (not necessarily bonded or in the same model) or one bond.
   A bond can only be specified by <a href="../selection.html">selecting</a>
   it and using the word <b>selected</b>, <b>sel</b>, or <b>picked</b>;
   any atoms also selected at the time will be ignored.
  </ul>
</blockquote>
<blockquote>
  <a name="center"><b>center</b> <i>center</i></a>
  <br>
  Specify center of symmetry (default <b>0,0,0</b>), 
  where <i>center</i> can be:
  <ul>
  <li><i>x,y,z</i>
   (three values separated by commas only) - an arbitrary point
  in the <a href="#coordinateSystem">reference coordinate system</a>
  <li>an <a href="frameatom_spec.html" target="_top"><i>atom-spec</i></a>
  of any combination of atoms and
  <a href="atom_spec.html#othermodels">surface pieces</a>.
  The center of the bounding sphere of the specified items will be used.
  </ul>
</blockquote>
<blockquote>
  <a name="coordinateSystem"><b>coordinateSystem</b> <i>N</i></a>
  <br>
  Specify a reference model 
  (default is the original molecule model, <i>molmodel</i>)
  by model number <i>N</i> preceded by #.  
  The reference coordinate system is used for
  <a href="#update">dynamic updating</a> and for interpreting coordinate
  specifications such as of
  <a href="#axis">axis</a> and <a href="#center">center</a> of symmetry.
</blockquote>
<blockquote>
  <a name="biomtSet"><b>biomtSet</b> &nbsp;<b>true</b>&nbsp;|&nbsp;false</a>
  <br>Whether to generate <a href="#biomt">BIOMT matrices</a>
  for <i>molmodel</i> according to the specified <a href="#group">symmetry</a>,
  replacing any pre-existing BIOMT information. 
  The BIOMT matrices will be included if <i>molmodel</i> is subsequently 
  <a href="../savemodel.html#pdb">saved as PDB</a>.
<p>
The <a href="../../ContributedSoftware/accelerators/alist.html">accelerator</a>
<b>mB</b> (command <b><A href="ac.html">ac</A> mB</b>) sets 
<a href="#biomt">BIOMT matrices</a> for molecule models associated with
the currently selected
<a href="../../ContributedSoftware/multiscale/framemulti.html"
target="_top">multiscale</a> chains 
to only the symmetries represented by those chains.
This allows writing only a subset of the original BIOMT matrices
(or symmetries assigned with <a href="#top"><b>sym</b></a>).
</p>
</blockquote>
<blockquote>
  <a name="update"><b>update</b> true&nbsp;|&nbsp;<b>false</b></a>
  <br>Whether to dynamically update the positions of the copies
  to preserve symmetry when the original model is moved
  relative to the <a href="#coordinateSystem">reference coordinate system</a>.
  If the reference model is closed, the copies will cease to update.
</blockquote>
<blockquote>
  <b>modelId</b> <i>N</i>
  <br>Open the copy or copies as model number <i>N</i> (an integer, 
  optionally preceded by #). The default is the lowest unused number.
  When multiple copies are loaded, they will be opened as submodels
  of the specified model. When only a single copy is loaded,
  it will not receive a submodel number unless a specification of the
  form #N.N (# required) is given instead of <i>N</i>.
</blockquote>
<blockquote>
  <a name="contact"><b>contact</b> <i>contact-dist</i></a>
  <br>Only generate copies with any atom within <i>contact-dist</i> 
  of the original molecule model.
</blockquote>
<blockquote>
  <a name="range"><b>range</b> <i>range-dist</i></a>
  <br>Only generate copies with centers within <i>range-dist</i>
  of the center of the original molecule model.
  A model's center is defined as the center of its bounding box.
</blockquote>
<blockquote>
  <a name="occupancy"><b>occupancy</b></a> &nbsp;<i>f</i>
<br>
Only generate copies at a fraction of the positions that would otherwise 
be filled.  Random number generation is used to fill each position at a 
probability <i>f</i> (a value ranging from 0 to 1). This approach may yield
different overall fractions filled for multiple uses of the same command, 
but distributed about <i>f</i>.
</blockquote>
<blockquote>
  <a name="surfaces"><b>surfaces</b></a>
  &nbsp;all&nbsp;|&nbsp;true&nbsp;|&nbsp;<b>false</b>&nbsp;
  [&nbsp;<b>resolution</b>&nbsp;<i>r</i>&nbsp;]
<br>Whether to generate the additional copies as
<a href="../../ContributedSoftware/multiscale/multiscale.html#lowres">low-resolution surfaces</a>
(from <a href="../../ContributedSoftware/multiscale/framemulti.html"
target="_top"><b>Multiscale Models</b></a>)
instead of atomic coordinates.  The surfaces may be preferred for large
multimers because they require much less memory and are more efficient 
to display than atomic coordinates.  The keyword <b>all</b> indicates making
a surface for the original structure as well as for the additional copies.
A low-resolution surface is created by counting the atoms in each cell of a
3D grid and then making an isosurface of this occupancy map.  
The <b>resolution</b> <i>r</i> is the grid spacing (default <b>8</b> &Aring;).
The isosurface is smoothed to reduce artifacts associated with
using an arbitrarily aligned grid.
</blockquote>

<a name="biomt"></a>
<h4>BIOMT Matrices</h4>
<p>
BIOMT matrices are included in some 
<a href="https://www.rcsb.org" target="_blank">Protein Data Bank</a> (PDB)
entries, for example,
<a href="https://www.rcsb.org/structure/1FAV"
target="_blank">1fav</a>.  
(The corresponding information in mmCIF format can also be used.)
BIOMT matrices can be added to PDB files using a text editor 
or the command <a href="#top"><b>sym</b></a>
with <a href="#biomtSet"><b>biomtSet true</b></a>.
</p><p>
The <a href="#image">image</a> shows twelve copies of myosin 
arranged helically, as specified by the following twelve matrices added to
PDB entry <a href="https://www.rcsb.org/structure/1I84"
target="_blank">1i84</a> (the first is simply an identity matrix that does not
specify an additional copy):
<pre>
REMARK 350 BIOMOLECULE: 1
REMARK 350 APPLY THE FOLLOWING TO CHAINS: S, T, U, V, W, Z
REMARK 350   BIOMT1   1  1 0 0 0
REMARK 350   BIOMT2   1  0 1 0 0
REMARK 350   BIOMT3   1  0 0 1 0
REMARK 350   BIOMT1   2  0 -1 0 0
REMARK 350   BIOMT2   2  1 0 0 0
REMARK 350   BIOMT3   2  0 0 1 0
REMARK 350   BIOMT1   3  -1 0 0 0
REMARK 350   BIOMT2   3  0 -1 0 0
REMARK 350   BIOMT3   3  0 0 1 0
REMARK 350   BIOMT1   4  0 1 0 0
REMARK 350   BIOMT2   4  -1 0 0 0
REMARK 350   BIOMT3   4  0 0 1 0
REMARK 350   BIOMT1   5  0.866025 -0.5 0 0
REMARK 350   BIOMT2   5  0.5 0.866025 0 0
REMARK 350   BIOMT3   5  0 0 1 145
REMARK 350   BIOMT1   6  -0.5 -0.866025 0 0
REMARK 350   BIOMT2   6  0.866025 -0.5 0 0
REMARK 350   BIOMT3   6  0 0 1 145
REMARK 350   BIOMT1   7  -0.866025 0.5 0 0
REMARK 350   BIOMT2   7  -0.5 -0.866025 0 0
REMARK 350   BIOMT3   7  0 0 1 145
REMARK 350   BIOMT1   8  0.5 0.866025 0 0
REMARK 350   BIOMT2   8  -0.866025 0.5 0 0
REMARK 350   BIOMT3   8  0 0 1 145
REMARK 350   BIOMT1   9  0.866025 0.5 0 0
REMARK 350   BIOMT2   9  -0.5 0.866025 0 0
REMARK 350   BIOMT3   9  0 0 1 -145
REMARK 350   BIOMT1  10  -0.5 0.866025 0 0
REMARK 350   BIOMT2  10  -0.866025 -0.5 0 0
REMARK 350   BIOMT3  10  0 0 1 -145
REMARK 350   BIOMT1  11  -0.866025 -0.5 0 0
REMARK 350   BIOMT2  11  0.5 -0.866025 0 0
REMARK 350   BIOMT3  11  0 0 1 -145
REMARK 350   BIOMT1  12  0.5 -0.866025 0 0
REMARK 350   BIOMT2  12  0.866025 0.5 0 0
REMARK 350   BIOMT3  12  0 0 1 -145
</pre>
</p>
</body></html>
