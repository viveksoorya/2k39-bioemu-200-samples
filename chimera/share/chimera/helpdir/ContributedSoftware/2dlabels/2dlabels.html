<!--
--- UCSF Chimera Copyright ---
Copyright (c) 2005-2015 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  This notice must be embedded in or
attached to all copies, including partial copies, of the
software or any revisions or derivations thereof.
--- UCSF Chimera Copyright ---
-->

<html>
<head>
<TITLE>2D Labels</TITLE>
</head>
<body>
<a name="2dlabels">
<h3>2D Labels <img src="labelsicon.png" alt="2D Labels icon"></h3></a>

<table border align="right" style="margin:8px 8px 8px 8px" 
cellspacing="0" cellpadding="0">
<tr><td>
<img src="2dlab.png" alt="2D labels and arrows example">
</td></tr>
</table>
<p>
<b>2D Labels</b> allows adding text, <a href="symbols.html">symbols</a>, and
arrows to the display. This is useful for annotating
<a href="../../UsersGuide/print.html#tips">images</a> and
<a href="../../UsersGuide/movies.html">movies</a>.  
The labels exist in the X,Y plane (the plane of the screen) and do not
have a &ldquo;depth&rdquo; (Z-coordinate); 
they appear in front of any graphics displays
and will not move when models are moved.
Multiple colors and sizes of 2D labels can coexist.
Text and symbols are laid out horizontally, whereas
arrows can be oriented in any direction in the plane.
(Symbols also include various arrows in different orientations, but
cannot be oriented arbitrarily.)
For 3-dimensional arrows, 
see <a href="../../UsersGuide/bild.html">BILD format</a>.
</p><p>
<b>2D Labels</b> information is saved in
<a href="../../UsersGuide/sessions.html#sesdef">sessions</a>.
2D labels can also be saved to and read from a separate
<a href="#labelfile">label file</a>.
</p><p>
There are <a href="../../UsersGuide/extension.html">several ways to start</a>
<b>2D Labels</b>, a tool in the <b>Depiction</b> and <b>Utilities</b> 
categories. <b>2D Labels</b> is also implemented as the command
<a href="../../UsersGuide/midas/2dlabels.html"><b>2dlabels</b></a>.
Starting <b>2D Labels</b> opens a dialog with the following tabbed 
sections:
<ul>
<li><a href="#labels"><b>Labels</b></a>
<li><a href="#arrows"><b>Arrows</b></a>
<li><a href="#colorkey"><b>Color Key</b></a>
(also listed as a separate tool in the same categories as <b>2D Labels</b>)
</ul>
Clicking the tab for a section brings it to the front.
<b>Close</b> dismisses the <b>2D Labels</b> dialog, and <b>Help</b>
opens this manual page in a browser window.
</p>
<a name="labels"><b>Labels</b></a>:
<blockquote>
<p>
<b>Use mouse for label placement</b> (near the bottom of the dialog)
is automatically turned on.  This option reassigns the left mouse button
to labeling: clicking in the 
<a href="../../UsersGuide/chimerawindow.html">graphics window</a>
starts a new 2D label,
and previously created 2D labels can be repositioned by dragging.
Unchecking the option or closing the <b>2D Labels</b> dialog returns
the left mouse button to its previous function (by default,
<a href="../../UsersGuide/mouse.html">rotation of models</a>).
</p><p>
The top part of the dialog lists the
existing 2D labels and their (lower left-hand corner) X,Y coordinates.
The X axis is horizontal and the Y axis is vertical, and both range from
0 to 1 in the visible portion of the window.  It is possible to place
a label partially or completely outside the visible area.
The <b>Shown</b> checkboxes allow hiding/showing individual labels.
All 2D labels collectively can be hidden and shown with the 
<b>Hide All</b> and <b>Show All</b> buttons.
</p><p>
<a name="active">
The 2D label most recently created, moved, or clicked within the
<b>2D Labels</b> dialog is the <b><i>active label</i></b>.</a>
</p><p>
Typing into the <b>Text</b> area defines the content
of the <a href="#active">active label</a>.
A label can include letters, numbers, and various symbols present on
the keyboard, as well as spaces and carriage returns.  
Many other symbols such as Greek letters
can also be included, as described below.
</p><p>
The <b>Insert symbol</b> menu provides easy access to several 
commonly used symbols.  Choosing a symbol from the menu inserts it into
the <a href="#active">active label</a>.
Choosing <b>more...</b> from the bottom of the menu shows
<a href="symbols.html">many more symbols</a> in a browser window, 
from which a symbol can be copied and then pasted into the <b>Text</b> area
of the <b>2D Labels</b> dialog.
Symbols from other sources can also be incorporated 
using standard copy-and-paste operations.
</p><p>
As text is entered, it will appear in the graphics window
according to the current settings:
<ul> 
<li><b>Color</b> 
(a <a href="../../UsersGuide/coloring.html#colorwell">color well</a>) 
<li><b>Font size</b> (default <b>24</b>)
<li><b>Font style</b>
  <ul>
  <li><b>normal</b> (default)
  <li><b>italic</b>
  <li><b>bold</b>
  <li><b>bold italic</b>
  </ul>
<li><b>Font typeface</b>
  <ul>
  <li><b>sans serif</b> (default)
  <li><b>serif</b>
  <li><b>fixed</b>
  </ul>
<li><b>Use solid label background</b> 
- whether to place a colored rectangle under the label text, and if so:
  <ul>
  <li><b>Label background color</b> 
  (a <a href="../../UsersGuide/coloring.html#colorwell">color well</a>,
   default semitransparent black) - color of the rectangle
  <li><b>Margin around text</b> (default <b>9</b>) 
  - how far beyond the label text in each direction 
  (left, right, top, and bottom) to extend the rectangle, in pixels
  <li><b>Outline around margin</b> (default <b>0</b>) - pixel width of
  an additional outline around the rectangle,
  set automatically to <b>white</b> for dark rectangle colors or
  <b>black</b> for light rectangle colors
  </ul>
The label background settings of the <a href="#active">active label</a>
can applied to all labels by clicking <b>Apply</b>.
</ul>
The properties of an existing label can be changed by
first making it the <a href="#active">active label</a> and then
changing the setting.  The color or font of <i>part</i> of an existing
label can be changed by making it the <a href="#active">active label</a>,
highlighing the portion to be changed within the <b>Text</b> area,
and then changing the setting.
</p><p>
Clicking <b>Delete</b> deletes the <a href="#active">active label</a>.
</p><p>
For purposes of manipulation with the
<a href="../../UsersGuide/midas/2dlabels.html"><b>2dlabels</b></a> command,
2D labels created with the graphical interface are assigned names 
<b>label2d_id_0</b>, <b>label2d_id_1</b>, <b>label2d_id_2</b>, <i>etc.</i>
in order of creation.
</p>
</blockquote>
<a name="arrows"><b>Arrows</b></a>:
<blockquote>
<p>
<b>Use mouse for arrow placement</b> (near the bottom of the dialog)
is automatically turned on. This option reassigns the left mouse button
so that clicking and holding the button down
starts a new 2D arrow, dragging extends the arrow, and releasing
defines the location of the tip. 
A previously created arrow can be reoriented or its length changed 
by dragging from either end, or it can be moved without reorientation 
by dragging from its middle third.
Unchecking the mouse option or closing the <b>2D Labels</b> dialog returns
the left mouse button to its previous function (by default,
<a href="../../UsersGuide/mouse.html">rotation of models</a>).
</p><p>
The top part of the dialog shows the
existing 2D arrows and their start and end (tip) X,Y coordinates.
The X axis is horizontal and the Y axis is vertical, and both range from
0 to 1 in the visible portion of the window.
The color of an existing arrow can be changed by clicking its
<a href="../../UsersGuide/coloring.html#colorwell">color well</a> and 
using the <a href="../../UsersGuide/colortool.html"><b>Color Editor</b></a>.
The <b>Shown</b> checkboxes allow hiding/showing individual arrows.
All 2D arrows collectively can be hidden and shown with the 
<b>Hide All</b> and <b>Show All</b> buttons.
<ul>
<li><b>Arrow weight</b> (default <b>1.0</b>)
- a scale factor for the overall thickness of the arrow
<li><b>Arrowhead style</b>
  <ul>
  <li><b>solid</b> (default)
  <li><b>pointy</b>
  <li><b>blocky</b>
  <li><b>pointer</b>
  </ul>
</ul>
The 2D arrow most recently created, moved, or clicked within the
top part of the dialog is the <b><i>active arrow</i></b>.</a>
The weight or arrowhead style of an arrow can be changed by
first making it the active arrow and then changing the setting. 
<b>Delete</b> deletes the active arrow.
</p>
</blockquote>

<a name="labelfile">
2D labels (including text, symbols, and 2D arrows)
can be written to or read from a file using the <b>File</b>
menu in the <b>2D Labels</b> dialog.</a>  2D label files allow
transferring labels from one Chimera session to another, saving label
work without saving an entire <a href="../../UsersGuide/sessions.html">session 
file</a>, and hand-editing the files to obtain more precise label positions
than easily afforded by interactive dragging.
A simple text format is used (see the
<a href="example.lab" type="text/plain">example file</a>):
<ul>
<li> <b>Label</b> indicates the start of information for a label, and
the label identifier (if any) appears on the same line
<li> <b>Arrow</b> indicates the start of information for each arrow, and
the arrow identifier appears on the same line
<li> label or arrow attributes (size, color, <i>etc.</i>) 
are given in subsequent lines that start with tabs
<li> symbols in label text can be indicated with
<a href="https://unicode.org/charts/#symbols" target="_blank">unicode</a> 
character codes or character names  
<li> blank lines and comment lines (those starting with #) are ignored
</ul>
</p>

<a name="colorkey">
<h3>Color Key <img src="colkeyicon.png" alt="Color Key icon"></h3></a>

<table border align="right" style="margin:8px 8px 8px 8px" cellspacing="1">
<tr><th align="center">
Surface <a href="../render/render.html#render">rendered</a> by<br>
<a href="../../UsersGuide/midas/hydrophob.html">kdHydrophobicity</a>:
</th></tr>
<tr><td>
<img src="colorkey.png" alt="surface rendered by kdHydrophobicity">
</td></tr>
</table>

<p>
<b>Color Key</b> allows creation and placement of a color key bar and
associated labels in two dimensions.  The labels can include
<a href="symbols.html">symbols</a>.
<b>Color Key</b> information is saved in
<a href="../../UsersGuide/sessions.html#sesdef">sessions</a>.
See also:
<a href="#2dlabels"><b>2D Labels</b></a>,
<a href="../scalebar/scalebar.html"><b>Scale Bar</b></a>
</p><p>
There are <a href="../../UsersGuide/extension.html">several ways to start</a>
<b>Color Key</b>, a tool in the <b>Depiction</b> and <b>Utilities</b> 
categories. In addition, there are buttons in
<a href="../render/render.html#render"><b>Render by Attribute</b></a>,
<a href="../surfcolor/surfcolor.html"><b>Surface Color</b></a>, and
<a href="../coulombic/coulombic.html"><b>Coulombic Surface Coloring</b></a>
to start this tool and populate it to match the current coloring scheme.
It is also implemented as the command
<a href="../../UsersGuide/midas/colorkey.html"><b>colorkey</b></a>.
</p><p>
<b>Use mouse for key placement</b> (near the bottom of the dialog) 
is automatically turned on when <b>Color Key</b> is started.
This option reassigns the left mouse button
to color key creation and placement:
clicking and dragging sets the location of opposing corners of the color
key rectangle, or <b><i>color bar</i></b>.  A key can be vertical or horizontal.
A previously created color key can be moved by grabbing near 
its center and dragging, but clicking anywhere else will delete
the color key and start over.  Only one color key can exist at a time.
Unchecking the mouse option or closing the <b>Color Key</b> dialog returns
the left mouse button to its previous function (by default,
<a href="../../UsersGuide/mouse.html">rotation of models</a>).
</p><p>
Any desired changes to the <b>Number of colors/labels</b> should be applied 
first, as changing the number will erase prior color/label specifications.
A color can be changed by clicking the corresponding
<a href="../../UsersGuide/coloring.html#colorwell">color well</a> and
using the <a href="../../UsersGuide/colortool.html"><b>Color Editor</b></a>.
Label text can be entered directly or pasted (including
<a href="symbols.html">symbols</a>) into the corresponding fields.
</p><p>
The color/label pairs from top to bottom in the dialog will be arranged
from top to bottom in a vertical key and from left to right in a
horizontal key.  <b>Reverse ordering of above</b> repopulates the
color/label values in the reverse of the current order.
</p><p>
Additional options:
<ul>
<li><b>Color range depiction</b>
  <ul>
  <li><b>blended</b> (default) - continuous
  <li><b>distinct</b> - discontinuous
  </ul>
<li><b>Label positions</b>
  <ul>
  <li><b>left/top</b> 
  - to the left of a vertical key, above a horizontal key
  <li><b>right/bottom</b> (default) 
  - to the right of a vertical key, below a horizontal key
  </ul>
<li><b>Label color</b>
(a <a href="../../UsersGuide/coloring.html#colorwell">color well</a>,
default <b>white</b>)
- if <b>No color</b>, 
  the labels will be colored to match the individual colors in the key
<li><b>Label justification</b> - how to align the labels in a vertical key;
labels in horizontal keys are always center-justified
   <ul>
  <li><b>left</b> - left-justify
  <li><b>decimal point</b> (default) - align decimal points, if any
  <li><b>right</b> - right-justify
   </ul>
<li><b>Numeric label separation</b> - how to space numeric labels 
along the key; regardless of this setting, equal spacing will be used 
if any label is non-numeric or the labels are not in numerical order
  <ul>
  <li><b>proportional to value</b> (default)
  <li><b>equal</b>
  </ul>
<li><b>Label offset</b> (default <b>0</b>) - additional space in pixels
between the labels and the color bar
<li><b>Font size</b> (default <b>24</b>)
<li><b>Font style</b>
  <ul>
  <li><b>normal</b> (default)
  <li><b>italic</b>
  <li><b>bold</b>
  <li><b>bold italic</b>
  </ul>
<li><b>Font typeface</b>
  <ul>
  <li><b>sans serif</b> (default)
  <li><b>serif</b>
  <li><b>fixed</b>
  </ul>
<li><b>Border color</b>
(a <a href="../../UsersGuide/coloring.html#colorwell">color well</a>)
- color of outline around the color bar; if <b>No color</b>, 
no outline is shown
<li><b>Border width</b> (default <b>3</b>)
- pixel width of outline around the color bar
<li><b>Show tick marks</b>
- whether to display short lines extending from the color bar toward the 
labels; if a border is shown, the border color is also used for the tick marks
  <ul>
  <li><b>false</b> (default)
  <li><b>true</b>
  </ul>
<li><b>Tick length</b> (default <b>10</b>)
- pixel length of tick marks
<li><b>Tick thickness</b> (default <b>4</b>)
- pixel width of tick marks; to make flush with the border (if any),
use a value at least twice the border width
</ul>
While all of the color-key-associated labels are of the same color and size,
labels of different colors and sizes can be created with
<a href="#2dlabels"><b>2D Labels</b></a>.
</p><p>
<b>Delete</b> deletes the color key display without changing the color/label
settings in the dialog.  <b>Close</b> dismisses the <b>Color Key</b> dialog,
while <b>Help</b> opens this manual page in a browser window.
</p>
<hr>
<address>UCSF Computer Graphics Laboratory / June 2015</address>
</body>
</html>
