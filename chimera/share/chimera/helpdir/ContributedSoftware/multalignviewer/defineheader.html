<!--
--- UCSF Chimera Copyright ---
Copyright (c) 2005-2010 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  This notice must be embedded in or
attached to all copies, including partial copies, of the
software or any revisions or derivations thereof.
--- UCSF Chimera Copyright ---
-->

<html>
<head>
<TITLE>Alignment Header Definition Files</TITLE>
</head>
<body>
<h3>Alignment Header Definition Files</h3>
<p>
Sequence alignments shown in 
<a href="framemav.html" target="_top"><b>Multalign Viewer</b></a> 
may include <a href="multalignviewer.html#headers">header</a> lines.  
For example, a
<a href="multalignviewer.html#conservation"><b>Conservation</b></a>
line is shown by default.
</p><p>
Arbitrary, user-defined header lines may also be shown.  
New header contents can be loaded from an external
<a href="#headerformat"><b><i>header definition file</i></b></a>
(<a href="multalignviewer.html#mavmenu-headers"><b>Headers... Load</b></a>
in the <b>Multalign Viewer</b> menu), 
while existing header contents can be saved to the same type of file 
(<a href="multalignviewer.html#mavmenu-headers"><b>Headers... Save</b></a> 
in the <b>Multalign Viewer</b> menu).
Loading values for a header with the same name as an 
existing header will create an additional header line,
not replace the values in the existing header line.
</p>

<h4><a name="headerformat">HEADER DEFINITION FORMAT</a></h4>
<p>
<a name="comment">
A hash symbol # at the beginning of a line
signifies a <b><i>comment</i></b>.</a>
</p><p>
<a name="controlline"><b><i>Control lines</i></b></a>
indicate header name and type:
<blockquote><tt>
<b>name:</b> <i>header_name</i>
<br>
<b>style:</b> <i>data_type</i>
</tt></blockquote>
The <i>header_name</i> is a character string and the <i>data_type</i> 
can be <b>character</b>, <b>numeric</b>, or <b>symbol</b>.
Both lines are optional.  If the <b>name</b> line is omitted,
the header will be listed as <b>(no name)</b> in the
<a href="multalignviewer.html#mavmenu-headers"><b>Headers</b> menu</a>.
If the <b>style</b> line is omitted, it will be guessed from the first 
data value, as described below.
</p>
<table border align="right" cellpadding="5"
cellspacing="0" style="margin:8px 8px 8px 8px">
<tr><th align="center"><i>data_type</i></th> <th><i>header_value</i></th></tr>
<tr><td align="center"><b>character</b></td> 
<td>single character</td></tr>
<tr><td align="center"><b>symbol</b></td> 
<td>one of the following:
  <ul>
  <li><b>circle</b> 
  <li><b>diamond</b>
  <li><b>square</b>
  <li><b>star</b>
  </ul>
</td></tr>
<tr><td align="center"><b>numeric</b></td> <td>any numerical value</td></tr>
</table>
<p>
Header values are given in
<a name="dataline"><b><i>data lines</i></b></a> of the form:
<blockquote><tt>
(Tab)<i>alignment_pos</i>(Tab)<i>header_value</i>(Tab)<i>color</i>
</tt></blockquote>
where <i>alignment_pos</i> is an integer position in the alignment.
Data lines can be in any order, and not every position in the alignment
must be represented in the file.  
Positions with no value will be blank in the header line.
<a href="#controlline">Control lines</a> and <a href="#comment">comments</a>
can be interspersed with data lines.
However, if multiple headers are defined in the same file, the
<b>name</b> control line should precede all other
lines for the corresponding header.
</p><p>
If the <b>style</b> is not specified, it will be assumed
<b>character</b> if the <i>header_value</i> in the first data line is a single 
character, <b>symbol</b> if it matches a known symbol name, otherwise
<b>numeric</b>.
</p><p>
Numeric header values are
<a href="multalignviewer.html#headers">mapped</a> to histogram bar heights 
in the range 0-1 for display, but the original input values will be used for
<a href="multalignviewer.html#mavAttributes">residue attributes</a>
and written out when header contents are 
<a href="multalignviewer.html#saveheader">saved</a>.
</p><p>
The <i>color</i> is optional but can be specified as either
of the following:
  <ul>
  <li>a color name (a
  <a href="../../UsersGuide/colortables.html">built-in name</a> 
  or one defined previously with 
  <a href="../../UsersGuide/midas/colordef.html"><b>colordef</b></a>)
  <li>a set of RGB values, three space-separated numbers each ranging 
  from 0 to 1 (inclusive) that represent the red, green, and blue
  components of the color
  </ul>
A single header definition file can incorporate both kinds of color 
specifications, as well as lines without color specifications.  
Default colors are used for data without color specifications: 
<b>black</b> for character values, black outlines for symbol values,
<b>dark gray</b> for the histogram bars corresponding to numeric values.
</p>
<hr>
<address>UCSF Computer Graphics Laboratory / August 2010</address>
</body>
</html>
