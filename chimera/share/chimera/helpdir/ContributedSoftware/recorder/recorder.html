<!--
--- UCSF Chimera Copyright ---
Copyright (c) 2005-2013 Regents of the University of California.
All rights reserved.  This software provided pursuant to a
license agreement containing restrictions on its disclosure,
duplication and use.  This notice must be embedded in or
attached to all copies, including partial copies, of the
software or any revisions or derivations thereof.
--- UCSF Chimera Copyright ---
-->

<html>
<head>
<TITLE>Movie Recorder</TITLE>
</head>
<body>
<h3>Movie Recorder <img src="recordicon.png"
alt="Movie Recorder icon"></h3>
<p>
<b>Movie Recorder</b> captures image frames from Chimera and
assembles them into a movie file.
Movies of trajectories can be recorded with
<a href="../movie/framemovie.html" target="_top"><b>MD Movie</b></a>.
See also:
<a href="../animation/frameanimation.html" target="_top"><b>Animation</b></a>,
<a href="../../UsersGuide/movies.html">making movies</a>,
<a href="../../UsersGuide/print.html#tips">tips on preparing images</a>
</p><p>
There are <a href="../../UsersGuide/extension.html">several ways to start</a>
<b>Movie Recorder</b>, a tool in the <b>Utilities</b> category.
It is also implemented as the command
<a href="../../UsersGuide/midas/movie.html"><b>movie</b></a>.
</p><p>
Any desired adjustments in the window size or
<a href="#frameoptions"><b>Frame Options</b></a>
should be made before recording is started.  The window size is reported as 
<b>Resolution</b> in the status area of the dialog.
The window can be resized manually or with the command 
<a href="../../UsersGuide/midas/windowsize.html">windowsize</a>.
On certain platforms, other windows should not overlap
the Chimera graphics window during recording
(<a href="../../UsersGuide/print.html#exception">details...</a>).
This is not an issue when <a href="#raytrace">raytracing</a> is used.
</p><p>
On the <b>Movie Recorder</b> dialog, clicking <b>Record</b> initiates
frame capture and changes the button to <b>Stop</b>.  
Clicking <b>Stop</b> halts frame capture.
Frame capture can be restarted by clicking <b>Record</b> again.  
This can be repeated until the desired segments have been saved.  
<a name="reset"><b>Reset</b></a> resets the frame counter to zero and
(unless <a href="#saveframes"><b>Save images on Reset</b></a>
has been set to <b>true</b>) deletes the frames.
</p><p>
Clicking <b>Make movie</b> initiates 
encoding the saved frames into a movie file.
During encoding, the button changes to <b>Cancel movie</b>, which
can be clicked to halt the process.
When the movie is fully assembled, a <a href="#reset">reset</a> 
will occur unless <b>Reset after encode</b> has been turned off.
Output settings:
</p>
<ul>
<li><b>Output format</b> - output movie file format
<!-- H.264 default on Mac and Windows, VP8/WebM default on Linux -->
  <ul>
  <li>H.264 [.mp4]
  <li>VP8/WebM [.webm]
  <li>Theora [.ogv]
  <li>Quicktime [.mov]
  <li>AVI MSMPEG-4v2 [.avi]
  <li>MPEG-4 [.mp4]
  <li>MPEG-2 [.mpg]
  <li>MPEG-1 [.mpg]
  <li>WMV2 [.wmv]
  <li>APNG [.png] - animated PNG 
(lossless, <a href="#movieoptions">bit rate options</a> do not apply)
  </ul>
<li><b>Output file</b> - output movie file name and location
</ul>
<a name="frameoptions"><b>Frame Options</b></a>:
  <ul>
  <li> <b>Directory</b> - image file location
  <li> <b>Filename pattern</b> - string for naming image files
  <li> <b>Format</b> - image file format
(however, PNG will be used regardless of this setting if
<a href="#raytrace">raytracing</a> is done):
    <ul>
    <li>JPEG [.jpeg]
    <li>PNG [.jpeg]
    <li>PPM [.jpeg] (default)
    </ul>
  <li><b>Rendering</b>:
    <ul>
    <li><b>screen grab</b> (default)
    - capture the Chimera window contents; render onscreen. 
    This rendering option is the  fastest, but image quality is no better 
    than the display. The graphics window must be kept completely visible:
    not overlapped by other windows or menus, moved offscreen, or blanked
    out by a screensaver.
    <li><b>Chimera</b> 
   - Chimera rendering, normally offscreen
   (<a href="../../UsersGuide/print.html#exception">details...</a>).
   Images can be supersampled, that is, initially generated at a 
   higher resolution and then sampled down to the final size.
      <ul>
      <li><b>Supersample</b> (1x1/2x2/<b>3x3</b>/4x4)
      - how many pixels to sample in the X and Y dimensions for each pixel in
      the final saved image; thus, 1x1 corresponds to no supersampling.
      Higher values increase the smoothness of edges in saved images and 
      increase calculation time with little effect on file size. 
      3x3 is generally recommended when supersampling is done.
      </ul>
    <li><a name="raytrace"><b>POV-Ray</b></a> 
  - <a href="../../UsersGuide/raytracing.html">raytrace with POV-Ray</a>.
  This rendering option is the slowest but includes fancier effects
  such as high-quality shadows.
  The <b>POV-Ray Options</b> button opens the corresponding
  <a href="../../UsersGuide/preferences.html#POV-Ray Options">preferences</a>.
  </ul>
<li> <a name="saveframes"><b>Save images on Reset</b></a>
(true/<b>false</b>)
   - whether to keep individual image files when a <a href="#reset">reset</a> 
   occurs
  </ul>
<a name="movieoptions"><b>Movie Options</b></a>:
  <ul>
  <li><b>Bit rate controls quality and file size</b>
- a higher bit rate corresponds to higher quality (better appearance) 
  but also a larger movie file, assuming the same window size and 
  <a href="#fps">frame rate</a>. A movie can be encoded to play back at a 
  constant or variable bit rate.
    <ul>
    <li><b>Variable bit rate</b> (default <b>on</b>)<b>; Quality:</b>
    (highest/higher/high/<b>good</b>/medium/fair/low)
    <li><b>Constant bit rate (Kbits/s)</b> 
    (default <b>off</b> but set to <b>2000</b>)
    </ul>
  <li> <a name="fps"><b>Frames per second</b></a> (default <b>25</b>)
  - movie playback rate in terms of image frames
  <li> <b>Play forward then backward</b> (<b>off</b> by default)
  - whether to include the frames in reverse order as the 
  second half of the movie
  </ul>
<b>Close</b> dismisses the <b>Movie Recorder</b> dialog.
<b>Image Tips</b> shows the <a href="../../UsersGuide/print.html#tips">tips 
on preparing images</a>, and
<b>Help</b> opens this manual page in a browser window.
<hr>
<address>UCSF Computer Graphics Laboratory / December 2021</address>
</body>
</html>
